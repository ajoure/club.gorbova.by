
# План: Возможность создавать уроки без явного создания модуля

## ✅ РЕАЛИЗОВАНО

### 1. Миграция БД
- Добавлена колонка `is_container BOOLEAN DEFAULT false` в таблицу `training_modules`
- Контейнер-модули хранят независимые уроки для отображения как карточек

### 2. Выбор типа контента в мастере

В `ContentCreationWizard.tsx` добавлен шаг выбора:
- **Модуль** — папка с уроками (курс, раздел)
- **Урок** — отдельный урок (видеоответ, выпуск)

### 3. Новые компоненты

| Файл | Описание |
|------|----------|
| `ContentTypeSelector.tsx` | Компонент выбора типа (модуль/урок) |
| `LessonCard.tsx` | Карточка урока для отображения как выпуска |
| `useContainerLessons.ts` | Хук для загрузки уроков из контейнер-модулей |

### 4. Логика создания урока без модуля

При выборе "Урок" в мастере:
1. Система находит или создаёт контейнер-модуль для секции (`is_container: true`)
2. Урок создаётся в этом контейнере
3. Урок отображается как отдельная карточка в секции

### 5. Отображение в Knowledge.tsx

- Обычные модули (`is_container: false`) → карточки модулей
- Контейнер-модули (`is_container: true`) → уроки отображаются напрямую как карточки

## Flow мастера

### Модуль (6 шагов):
Раздел → Тип → Модуль → Урок (опц.) → Доступ → Готово

### Урок (5 шагов):
Раздел → Тип → Урок → Доступ → Готово

## Результат

1. ✅ Администратор может создать урок напрямую без создания модуля
2. ✅ Уроки отображаются как карточки с номером выпуска
3. ✅ Обратная совместимость — существующие модули работают как раньше
