# –§–∏–Ω–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏: –ö—Ä–∞—à lovable.dev –Ω–∞ iOS Safari

## –î–∏–∞–≥–Ω–æ–∑

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ—á—Ç–∏ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ –ù–ï –≤ –º–∞—Ä—à—Ä—É—Ç–µ /admin –∏ –Ω–µ –≤ ‚Äú–ø–æ–∑–¥–Ω–µ–º guard‚Äù.** –ï—Å–ª–∏ –Ω–∞ iPhone –≤ lovable.dev –≤—ã –≤–∏–¥–∏—Ç–µ –ª–µ–Ω–¥–∏–Ω–≥ (`/` –∏–ª–∏ `/club`), –∑–Ω–∞—á–∏—Ç:
- ultra-early guard (index.html) –∏/–∏–ª–∏ sync-guard –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—è—é—Ç –º–∞—Ä—à—Ä—É—Ç,
- –Ω–æ **–∫—Ä–∞—à –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å—ë —Ä–∞–≤–Ω–æ**, —Ç–æ –µ—Å—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä ‚Äî –Ω–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π URL, –∞ **–æ–±—â–∞—è –ø–∞–º—è—Ç—å/–Ω–∞–≥—Ä—É–∑–∫–∞** –≤ —Å–≤—è–∑–∫–µ: lovable.dev editor (—á–∞—Ç+monaco+ws+hmr) + iframe preview.

**–ü—Ä–∏ —ç—Ç–æ–º Excel –æ—Å—Ç–∞—ë—Ç—Å—è –≤–µ—Ä–æ—è—Ç–Ω—ã–º —É—Å–∏–ª–∏—Ç–µ–ª–µ–º –ø—Ä–æ–±–ª–µ–º—ã.**
–î–∞–∂–µ –ø—Ä–∏ dynamic import, xlsx –º–æ–∂–µ—Ç:
- –ø–æ–¥—Ç—è–≥–∏–≤–∞—Ç—å—Å—è –∫–æ—Å–≤–µ–Ω–Ω–æ (barrel exports, side-effects, prefetch),
- –∏–ª–∏ –≤—ã–∑—ã–≤–∞—Ç—å —Ä–æ—Å—Ç –ø–∞–º—è—Ç–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ/–≥–æ—Ä—è—á–µ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ,
- —á—Ç–æ –¥–µ–ª–∞–µ—Ç lovable.dev –Ω–∞ iOS –µ—â—ë –º–µ–Ω–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–º.

–ò—Ç–æ–≥–æ: **–Ω–∞ iOS Safari –≤–Ω—É—Ç—Ä–∏ lovable.dev —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å ‚Äú–ø–æ–ª–Ω–æ–≥–æ preview –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è‚Äù –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ—Ä–µ–∞–ª—å–Ω–æ**. –ù—É–∂–µ–Ω –ª–∏–±–æ ‚Äú–ø—Ä–æ—Ü–µ—Å—Å–Ω—ã–π‚Äù –æ–±—Ö–æ–¥ (–¥–µ—Å–∫—Ç–æ–ø), –ª–∏–±–æ ‚Äú—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π‚Äù –æ–±—Ö–æ–¥ (—É–ª—å—Ç—Ä–∞-–ª—ë–≥–∫–∞—è –∑–∞–≥–ª—É—à–∫–∞ –≤ iframe –Ω–∞ iOS).

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ñ–∞–∫—Ç—ã (—á—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ –∏ —á—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç)

- Admin pages lazy-loaded ‚úÖ
- iOS guards –Ω–∞ 3 —É—Ä–æ–≤–Ω—è—Ö (index.html ‚Üí App module scope ‚Üí sync Navigate) ‚úÖ
- XLSX –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç + hard-stop –≤ iOS preview ‚úÖ (–µ—Å–ª–∏ —Ä–µ–∞–ª—å–Ω–æ —Å—Ç–æ–∏—Ç –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö)
- –ü–∞–¥–∞–µ—Ç –∏–º–µ–Ω–Ω–æ lovable.dev editor –Ω–∞ iOS ‚ùó

**–í—ã–≤–æ–¥:** –ø—Ä–æ–±–ª–µ–º–∞ —Å–∏—Å—Ç–µ–º–Ω–∞—è ‚Äî –ª–∏–º–∏—Ç –ø–∞–º—è—Ç–∏ iOS Safari/WebKit + —Ç—è–∂—ë–ª—ã–π editor lovable.dev + iframe preview.

---

## –ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü—Ä–∏–Ω—è—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)
**–ü—Ä–∞–≤–∏–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞:**
- lovable.dev —Ä–µ–¥–∞–∫—Ç–æ—Ä ‚Äî —Ç–æ–ª—å–∫–æ –¥–µ—Å–∫—Ç–æ–ø/–Ω–æ—É—Ç.
- –ù–∞ iPhone:
  - –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π —Å–∞–π—Ç –Ω–∞–ø—Ä—è–º—É—é,
  - –∏–ª–∏ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å preview-—Å—Å—ã–ª–∫—É –≤–Ω–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π preview URL), –Ω–æ –Ω–µ –≤–Ω—É—Ç—Ä–∏ editor.

**DoD:** –≤—ã –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç–µ –ª–æ–≤–∏—Ç—å ‚Äú–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞/–ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—Ä–æ–±–ª–µ–º–∞‚Äù –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä –Ω–∞ iOS.

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–ª—å—Ç—Ä–∞-–ª—ë–≥–∫–∏–π —Ä–µ–∂–∏–º –¥–ª—è iOS iframe –≤ lovable.dev (—Ä–∞–±–æ—á–∏–π workaround)
–°–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã **–≤ iframe lovable.dev –Ω–∞ iOS –Ω–µ –≥—Ä—É–∑–∏–ª–æ—Å—å React-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ–æ–±—â–µ**.
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è HTML-–∑–∞–≥–ª—É—à–∫–∞ —Å –∫–Ω–æ–ø–∫–æ–π ‚Äú–û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç‚Äù (–∏–ª–∏ ‚Äú–û—Ç–∫—Ä—ã—Ç—å preview‚Äù).

–≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ:
- —Å–Ω–∏–∑–∏—Ç—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏,
- —É–±—Ä–∞—Ç—å –∫—Ä–∞—à editor‚Äô–∞,
- —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å ‚Äú–±—ã—Å—Ç—Ä–æ –æ—Ç–∫—Ä—ã—Ç—å‚Äù —Å–∞–π—Ç –∏–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–∞.

---

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–∞ 2 (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω) ‚Äî —É—Ç–æ—á–Ω—ë–Ω–Ω—ã–π –ø–ª–∞–Ω

### 1) index.html: –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ iOS preview –∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∑–∞–≥–ª—É—à–∫—É
–§–∞–π–ª: `index.html` (–∏–ª–∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π html entry –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞)

–ó–∞–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ ‚Äúrender stub + stop execution‚Äù.
–í–∞–∂–Ω–æ: **–Ω–µ —Ç—Ä–æ–≥–∞—Ç—å –ø—Ä–æ–¥**, —Ç–æ–ª—å–∫–æ iOS + iframe/preview.

```html
<script>
  (function() {
    try {
      var ua = navigator.userAgent || '';
      var isIOS = /iP(hone|ad|od)/.test(ua);
      var isSafari = /Safari/.test(ua) && !/Chrome|CriOS|FxiOS/.test(ua);

      var inIframe = false;
      try { inIframe = window.self !== window.top; } catch(e) { inIframe = true; }

      var qs = window.location.search || '';
      var isPreview = inIframe || qs.indexOf('forceHideBadge') > -1 || qs.indexOf('lovable') > -1 || qs.indexOf('preview') > -1;

      // Only block inside lovable preview on iOS Safari
      if (isIOS && isSafari && isPreview) {
        var openUrl = 'https://gorbova.lovable.app'; // –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ https://club.gorbova.by/knowledge –∏–ª–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π preview URL
        document.open();
        document.write(
          '<!doctype html><html><head>' +
          '<meta name="viewport" content="width=device-width, initial-scale=1">' +
          '<title>Preview –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –Ω–∞ iOS</title>' +
          '</head><body style="font-family:-apple-system,BlinkMacSystemFont,sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh;background:#f5f5f5;margin:0;padding:20px;text-align:center;">' +
          '<div style="max-width:320px;">' +
          '<div style="font-size:48px;margin-bottom:12px;">üì±</div>' +
          '<h2 style="color:#111;margin:0 0 8px;">–ú–æ–±–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º</h2>' +
          '<p style="color:#555;margin:0 0 16px;line-height:1.4;">' +
          '–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –≤–Ω—É—Ç—Ä–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ lovable.dev –Ω–∞ iOS –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç Safari.<br>–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ.' +
          '</p>' +
          '<a href="' + openUrl + '" target="_blank" rel="noopener noreferrer" ' +
          'style="display:inline-block;padding:12px 18px;background:#2563eb;color:#fff;text-decoration:none;border-radius:10px;font-weight:600;">' +
          '–û—Ç–∫—Ä—ã—Ç—å —Å–∞–π—Ç ‚Üí</a>' +
          '<p style="color:#888;margin:14px 0 0;font-size:12px;">Desktop preview —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ.</p>' +
          '</div></body></html>'
        );
        document.close();

        // —Å—Ç–æ–ø: –Ω–µ –≥—Ä—É–∑–∏—Ç—å –±–∞–Ω–¥–ª
        throw new Error('iOS Safari lovable preview blocked (stub mode)');
      }
    } catch (e) {
      // –µ—Å–ª–∏ —ç—Ç–æ –Ω–∞—à throw ‚Äî –æ–∫; –µ—Å–ª–∏ –¥—Ä—É–≥–æ–µ ‚Äî fail-open –Ω–µ –Ω—É–∂–µ–Ω, –Ω–æ –ø—É—Å—Ç—å –æ—Å—Ç–∞—ë—Ç—Å—è
    }
  })();
</script>

DoD-1: –Ω–∞ iPhone –≤–Ω—É—Ç—Ä–∏ lovable.dev –≤–º–µ—Å—Ç–æ –∫—Ä–∞—à–∞ –≤—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∞.

2) –£–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Å—ã–ª–∫—É –≤ –∫–Ω–æ–ø–∫–µ
	‚Ä¢	–ï—Å–ª–∏ —Ü–µ–ª—å ‚Äî –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π: https://club.gorbova.by/knowledge
	‚Ä¢	–ï—Å–ª–∏ —Ü–µ–ª—å ‚Äî –≤–µ—Å—å —Å–∞–π—Ç: https://club.gorbova.by/
	‚Ä¢	–ï—Å–ª–∏ –Ω—É–∂–µ–Ω –∏–º–µ–Ω–Ω–æ lovable published: https://gorbova.lovable.app

DoD-2: –∫–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—É—é –ø—É–±–ª–∏—á–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É.

3) –ù–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è—Ç—å –¥–ª—è desktop

–£—Å–ª–æ–≤–∏–µ –∑–∞–≥–ª—É—à–∫–∏ ‚Äî —Ç–æ–ª—å–∫–æ iOS Safari + preview/iframe.

DoD-3: –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ lovable.dev preview —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ.

‚∏ª

–†–∏—Å–∫–∏ –∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
	‚Ä¢	–í–∞—Ä–∏–∞–Ω—Ç 1: –Ω–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ, –Ω–æ –Ω–∞ iPhone –Ω–µ–ª—å–∑—è –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è lovable.dev —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º ‚Äî —Ç–æ–ª—å–∫–æ —Å–∞–π—Ç.
	‚Ä¢	–í–∞—Ä–∏–∞–Ω—Ç 2: –≤—ã —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ –≤—ã–∫–ª—é—á–∞–µ—Ç–µ iframe-preview –≤ lovable.dev –Ω–∞ iPhone, –∑–∞—Ç–æ editor –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –ø–∞–¥–∞—Ç—å.

‚∏ª

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

–í—ã–±–∏—Ä–∞–µ–º –í–∞—Ä–∏–∞–Ω—Ç 2 –∫–∞–∫ ‚Äú—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ –≤–æ–ø—Ä–æ—Å–∞‚Äù, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –¥–∞—ë—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: editor –Ω–∞ iOS –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –∫—Ä–∞—à–∏—Ç—å—Å—è.
–ê –¥–ª—è —Ä–∞–±–æ—Ç—ã/–ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—É–±–ª–∏—á–Ω—ã–π —Å–∞–π—Ç (club.gorbova.by / gorbova.lovable.app).

‚∏ª

–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (–µ—Å–ª–∏ —Ä–µ–∞–ª–∏–∑—É–µ–º –í–∞—Ä–∏–∞–Ω—Ç 2)
	1.	–ù–∞ iPhone –≤ lovable.dev —Ä–µ–¥–∞–∫—Ç–æ—Ä –ù–ï –ø–∞–¥–∞–µ—Ç
	2.	–í iframe –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ª—ë–≥–∫–∞—è –∑–∞–≥–ª—É—à–∫–∞ —Å –∫–Ω–æ–ø–∫–æ–π
	3.	–ö–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –Ω—É–∂–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π URL –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
	4.	Desktop –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–µ –∏–∑–º–µ–Ω–µ–Ω–æ
	5.	–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ

